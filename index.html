<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SkillSpark Hub</title>

<script src="https://sdk.minepi.com/pi-sdk.js"></script>

<style>
body{
font-family:system-ui,-apple-system;
background:#f6f4fb;
margin:0
}
header{
background:linear-gradient(135deg,#4A148C,#6A1B9A);
color:#fff;
padding:28px 16px;
text-align:center;
border-radius:0 0 22px 22px
}
.btn{
background:#fff;
color:#4A148C;
border:none;
padding:14px 24px;
border-radius:30px;
font-size:15px;
cursor:pointer;
margin:8px
}
.section{padding:18px}
.card,.accordion{
background:#fff;
border-radius:16px;
padding:16px;
margin-bottom:12px;
box-shadow:0 4px 10px rgba(0,0,0,.06)
}
.accordion-header{
display:flex;
justify-content:space-between;
align-items:center
}
.accordion-content{
display:none;
font-size:13px;
margin-top:10px
}
.tags{display:flex;flex-wrap:wrap;gap:6px}
.tag{
background:#ede7f6;
color:#4A148C;
padding:6px 12px;
border-radius:20px;
font-size:12px
}
.notice{font-size:12px;opacity:.85}
.progress{font-size:13px;color:#4A148C;margin-top:6px}
footer{text-align:center;font-size:12px;opacity:.6;padding:14px}
</style>
</head>

<body>

<header>
<h1>ğŸ“š SkillSpark Hub</h1>
<p id="welcomeText">ØªØ¹Ù„Ù‘Ù… Ù…Ù‡Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø© ÙƒÙ„ ÙŠÙˆÙ…</p>
<button class="btn" id="startBtn">ğŸš€ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</button>
<div class="notice" id="piNotice">â³ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Pi Browser</div>
</header>

<section class="section">
<h2>ğŸ”® Ù…Ù‚ØªØ±Ø­ Ø§Ù„ÙŠÙˆÙ…</h2>
<div class="card" id="suggestionBox">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
<button class="btn" id="shareBtn">ğŸ“¤ Ø´Ø§Ø±Ùƒ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</button>
<div class="progress" id="progressBox"></div>
</section>

<section class="section">
<h2>ğŸ“‚ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</h2>
<div id="sections"></div>
</section>

<footer>Â© 2025 SkillSpark Hub â€“ Pi Network</footer>

<script>
/* Pi */
let ready=false, tries=0;
const piNotice=document.getElementById("piNotice");
const check=setInterval(()=>{
tries++;
if(window.Pi){
clearInterval(check);
Pi.init({appName:"SkillSpark Hub",sandbox:false});
piNotice.innerText="âœ… Pi Browser Ù…ØªØµÙ„";
ready=true;
}
if(tries>8&&!ready){
clearInterval(check);
piNotice.innerText="â„¹ï¸ ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† ØªØ³Ø¬ÙŠÙ„";
}
},300);

/* UX */
document.getElementById("startBtn").onclick=()=>{
document.getElementById("suggestionBox")
.scrollIntoView({behavior:"smooth"})
};

/* Storage */
const saveInterest=i=>localStorage.setItem("interest",i);
const visited=()=>JSON.parse(localStorage.getItem("visited")||"[]");
const markVisited=i=>{
let v=visited();
if(!v.includes(i)){v.push(i);localStorage.setItem("visited",JSON.stringify(v))}
};
const updateProgress=t=>{
document.getElementById("progressBox").innerText=
`ğŸ“Š ØªÙ‚Ø¯Ù‘Ù…Ùƒ: ${visited().length}/${t}`;
};

/* Share */
let current="";
document.getElementById("shareBtn").onclick=()=>{
const txt=`ğŸ“š SkillSpark Hub
ØªØ¹Ù„Ù…Øª Ø§Ù„ÙŠÙˆÙ…: ${current}
ğŸ”— Ø¯Ø§Ø®Ù„ Pi Browser`;
navigator.share?
navigator.share({text:txt}):
(navigator.clipboard.writeText(txt),alert("ØªÙ… Ø§Ù„Ù†Ø³Ø® âœ¨"))
};

/* Data */
fetch("data.json").then(r=>r.json()).then(data=>{
const keys=Object.keys(data);
const saved=localStorage.getItem("interest");
const pick=saved&&data[saved]?saved:keys[Math.floor(Math.random()*keys.length)];
current=pick.replace(/_/g," ");
document.getElementById("suggestionBox").innerHTML=
`<strong>${current}</strong><br>${data[pick].Ø§Ù„ÙˆØµÙ||""}`;

if(saved){
document.getElementById("welcomeText").innerText=
`Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ø¹ÙˆØ¯ØªÙƒ ğŸ‘‹ Ù…Ù‡ØªÙ… Ø¨Ù€ ${current}`
}

const c=document.getElementById("sections");
keys.forEach(k=>{
const d=data[k];
const a=document.createElement("div");
a.className="accordion";
a.innerHTML=`
<div class="accordion-header">
<strong>${k.replace(/_/g," ")}</strong>
<span>â¬‡ï¸</span>
</div>
<div class="accordion-content">
<p>${d.Ø§Ù„ÙˆØµÙ||""}</p>
<div class="tags"></div>
</div>`;
const tags=a.querySelector(".tags");
(Array.isArray(d.Ø§Ù„ÙØ±ÙˆØ¹)?d.Ø§Ù„ÙØ±ÙˆØ¹:Object.keys(d.Ø§Ù„ÙØ±ÙˆØ¹||{}))
.forEach(t=>tags.innerHTML+=`<span class="tag">${t.replace(/_/g," ")}</span>`);
a.onclick=()=>{
saveInterest(k);
markVisited(k);
const cont=a.querySelector(".accordion-content");
const arrow=a.querySelector("span");
const open=cont.style.display==="block";
cont.style.display=open?"none":"block";
arrow.innerText=open?"â¬‡ï¸":"â¬†ï¸";
updateProgress(keys.length);
};
c.appendChild(a);
});
updateProgress(keys.length);
});
</script>

</body>
</html>
