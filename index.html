<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SkillSpark Hub</title>

<script src="https://sdk.minepi.com/pi-sdk.js"></script>

<style>
body{
font-family:system-ui;
background:#f7f5fb;
margin:0;
}

header{
text-align:center;
padding:28px 16px;
background:linear-gradient(135deg,#4A148C,#6A1B9A);
color:white;
border-bottom-left-radius:20px;
border-bottom-right-radius:20px;
}

.btn{
background:white;
color:#4A148C;
border:none;
padding:14px 22px;
border-radius:25px;
font-size:15px;
cursor:pointer;
margin-top:12px;
}

.section{padding:20px 16px;}

.card{
background:white;
border-radius:16px;
padding:16px;
margin-bottom:14px;
box-shadow:0 4px 10px rgba(0,0,0,.05);
}

.accordion{
background:white;
border-radius:16px;
padding:14px;
margin-bottom:12px;
box-shadow:0 4px 10px rgba(0,0,0,.05);
cursor:pointer;
}

.accordion-header{
display:flex;
justify-content:space-between;
align-items:center;
}

.accordion-content{
display:none;
margin-top:10px;
font-size:13px;
}

.tag{
background:#EDE7F6;
color:#4A148C;
padding:6px 12px;
border-radius:20px;
font-size:12px;
display:inline-block;
margin:4px;
cursor:pointer;
}

.learning{
background:#ede7f6;
border-radius:16px;
padding:16px;
margin-top:16px;
display:none;
}

footer{
text-align:center;
padding:16px;
font-size:12px;
opacity:.6;
}
</style>
</head>

<body>

<header>
<h1>ğŸ“š SkillSpark Hub</h1>
<p id="welcomeText">ØªØ¹Ù„Ù… Ù…Ù‡Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø© ÙƒÙ„ ÙŠÙˆÙ…</p>
<button class="btn" onclick="scrollToLearn()">ğŸš€ Ø§Ø¨Ø¯Ø£</button>
</header>

<section class="section">
<h2>ğŸ”® ØªÙƒÙ…Ù„Ø© Ø§Ù„ØªØ¹Ù„Ù…</h2>
<div class="card" id="suggestionBox">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
</section>

<section class="section">
<h2>ğŸ“‚ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</h2>
<div id="sections"></div>

<div class="learning" id="learningBox">
<h3 id="learnTitle"></h3>
<p id="learnContent"></p>
<button class="btn" onclick="closeLearning()">âœ”ï¸ ØªÙ…</button>
</div>
</section>

<footer>Â© 2025 SkillSpark Hub</footer>

<script>
let currentSuggestion="";

function scrollToLearn(){
document.getElementById("sections")
.scrollIntoView({behavior:"smooth"});
}

function openLearning(section,topic){
localStorage.setItem("lastSection",section);
localStorage.setItem("lastTopic",topic);
document.getElementById("learnTitle").innerText=
section.replace(/_/g," ")+" âœ "+topic;
document.getElementById("learnContent").innerText=
"Ù…Ø­ØªÙˆÙ‰ ØªØ¹Ù„ÙŠÙ…ÙŠ Ù…Ø¨Ø³Ø· Ø³ÙŠØªÙ… ØªØ·ÙˆÙŠØ±Ù‡ Ù‡Ù†Ø§ ğŸ‘Œ";
document.getElementById("learningBox").style.display="block";
}

function closeLearning(){
document.getElementById("learningBox").style.display="none";
}

fetch("data.json")
.then(res=>res.json())
.then(data=>{
const keys=Object.keys(data);

const last=localStorage.getItem("lastSection");
const pick=last&&data[last]?last:keys[Math.floor(Math.random()*keys.length)];
currentSuggestion=pick.replace(/_/g," ");

document.getElementById("suggestionBox").innerHTML=
`<strong>${currentSuggestion}</strong><br>
Ø§Ø¶ØºØ· Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØ¹Ù„Ù…`;

document.getElementById("suggestionBox").onclick=()=>{
document.querySelector(`[data-section="${pick}"]`)
.scrollIntoView({behavior:"smooth"});
};

const container=document.getElementById("sections");

keys.forEach(k=>{
const d=data[k];
const acc=document.createElement("div");
acc.className="accordion";
acc.dataset.section=k;

acc.innerHTML=`
<div class="accordion-header">
<strong>${k.replace(/_/g," ")}</strong>
<span>â¬‡ï¸</span>
</div>
<div class="accordion-content"></div>
`;

const content=acc.querySelector(".accordion-content");

(Array.isArray(d.Ø§Ù„ÙØ±ÙˆØ¹)?d.Ø§Ù„ÙØ±ÙˆØ¹:Object.keys(d.Ø§Ù„ÙØ±ÙˆØ¹||{}))
.forEach(t=>{
const tag=document.createElement("span");
tag.className="tag";
tag.innerText=t.replace(/_/g," ");
tag.onclick=(e)=>{
e.stopPropagation();
openLearning(k,t.replace(/_/g," "));
};
content.appendChild(tag);
});

acc.onclick=()=>{
const open=content.style.display==="block";
content.style.display=open?"none":"block";
acc.querySelector("span").innerText=open?"â¬‡ï¸":"â¬†ï¸";
};

container.appendChild(acc);
});
});
</script>

</body>
</html>
